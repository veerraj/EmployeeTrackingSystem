{"ast":null,"code":"import _objectSpread from \"/home/ulcom19/EmployeeTrackingSystem/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/ulcom19/EmployeeTrackingSystem/src/TrackanEmployee.js\";\nimport React, { Component } from 'react';\nimport './home.css';\nimport Dashboard from './Dashboard';\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport Popup from \"reactjs-popup\";\nimport firebase from 'firebase'; //import WebMercatorViewport from 'viewport-mercator-project';\n\nimport Geocoder from 'react-map-gl-geocoder';\nimport MapGL, { Marker } from \"react-map-gl\";\nconst token = 'pk.eyJ1IjoicmFqdmVlcm1ld2FyYSIsImEiOiJjazRqZ3lnOXQwdnQ4M25td3Rtb21taTR6In0.e2-bSIPzJvsidBf3gWOnGw'; //const employees = []\n\nclass TrackanEmployee extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      // const {longitude, latitude, zoom} = new WebMercatorViewport(this.state.viewport)\n      //         .fitBounds([[-122.4, 37.7], [-122.5, 37.8]], {\n      //           padding: 20,\n      //           offset: [0, -100]\n      //         });\n      //     const viewport = {\n      //         ...this.state.viewport,\n      //         longitude,\n      //         latitude,\n      //         zoom,\n      //         transitionDuration: 5000,\n      //         transitionInterpolator: new FlyToInterpolator(),\n      //         transitionEasing: d3.easeCubic\n      //     }\n      //     this.setState({viewport});\n      const db = firebase.firestore();\n      const employees = [];\n      db.collection('EmployeeData').get().then(snapshot => {\n        snapshot.forEach(doc => {\n          const data = doc.data(); //console.log(data)\n          // this.state.Employees.push(data);\n\n          employees.push(data);\n        }); //console.log(employees);\n\n        this.setState({\n          Employees: employees\n        }); // console.log(employees)\n      }); //console.log(this.state.Employees)\n    };\n\n    this.mapRef = React.createRef();\n\n    this.handleViewportChange = viewport => {\n      console.log('event', viewport);\n      console.log('this.state.viewPort', this.state.viewport);\n      this.setState({\n        viewport: _objectSpread({}, this.state.viewport, viewport)\n      });\n    };\n\n    this.handleGeocoderViewportChange = viewport => {\n      const geocoderDefaultOverrides = {\n        transitionDuration: 1000\n      };\n      return this.handleViewportChange(_objectSpread({}, viewport, geocoderDefaultOverrides));\n    };\n\n    this.state = {\n      viewport: {\n        width: 1000,\n        height: 900,\n        latitude: 24.5854,\n        longitude: 73.7125,\n        zoom: 6,\n        center: [-96, 37.8]\n      },\n      searchResultLayer: null,\n      Employees: []\n    };\n  }\n\n  render() {\n    console.log(this.state.Employees); // const { viewport, searchResultLayer} = this.state\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"map-cls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(MapGL, Object.assign({\n      ref: this.mapRef\n    }, this.state.viewport, {\n      mapStyle: \"mapbox://styles/mapbox/streets-v9\",\n      width: \"100%\",\n      height: \"90%\",\n      onViewportChange: this.handleViewportChange,\n      mapboxApiAccessToken: token,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(Geocoder, {\n      mapRef: this.mapRef,\n      onViewportChange: this.handleGeocoderViewportChange,\n      mapboxApiAccessToken: token,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }),\n    /* <div>\n      <Marker latitude={24.5854} longitude={73.7125} offsetLeft={-20} offsetTop={-10}>\n        <div class=\"mapMarkerStyle\"></div>\n      </Marker>\n      <Marker latitude={26.9124} longitude={75.7873} offsetLeft={-20} offsetTop={-10}>\n        <div class=\"mapMarkerStyle\"></div>\n      </Marker>\n    </div> */\n    {\n      /* <div>\n       {this.state.Employees &&\n         this.state.Employees.map((emp, index) => (\n           <Marker latitude={emp.lat} key={index} longitude={emp.lang} offsetLeft={-20} offsetTop={-10}>\n             <div class=\"mapMarkerStyle\"></div>\n           </Marker>\n         ))}\n      </div> */\n    })), React.createElement(Dashboard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default TrackanEmployee;","map":{"version":3,"sources":["/home/ulcom19/EmployeeTrackingSystem/src/TrackanEmployee.js"],"names":["React","Component","Dashboard","Popup","firebase","Geocoder","MapGL","Marker","token","TrackanEmployee","constructor","props","componentDidMount","db","firestore","employees","collection","get","then","snapshot","forEach","doc","data","push","setState","Employees","mapRef","createRef","handleViewportChange","viewport","console","log","state","handleGeocoderViewportChange","geocoderDefaultOverrides","transitionDuration","width","height","latitude","longitude","zoom","center","searchResultLayer","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAO,8BAAP;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,QAAP,MAAqB,UAArB,C,CACA;;AACA,OAAOC,QAAP,MAAqB,uBAArB;AAGA,OAAOC,KAAP,IAAgBC,MAAhB,QAA8B,cAA9B;AAIA,MAAMC,KAAK,GAAG,mGAAd,C,CACA;;AAEA,MAAMC,eAAN,SAA8BR,SAA9B,CAAwC;AAEtCS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAqBnBC,iBArBmB,GAqBC,MAAM;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,YAAMC,EAAE,GAAGT,QAAQ,CAACU,SAAT,EAAX;AACA,YAAMC,SAAS,GAAG,EAAlB;AACAF,MAAAA,EAAE,CAACG,UAAH,CAAc,cAAd,EACGC,GADH,GAEGC,IAFH,CAEQC,QAAQ,IAAI;AAEhBA,QAAAA,QAAQ,CAACC,OAAT,CAAiBC,GAAG,IAAI;AACtB,gBAAMC,IAAI,GAAGD,GAAG,CAACC,IAAJ,EAAb,CADsB,CAEtB;AACA;;AACAP,UAAAA,SAAS,CAACQ,IAAV,CAAeD,IAAf;AACD,SALD,EAFgB,CAQhB;;AACA,aAAKE,QAAL,CAAc;AAAEC,UAAAA,SAAS,EAAEV;AAAb,SAAd,EATgB,CAUhB;AAED,OAdH,EAnBwB,CAkCxB;AAED,KAzDkB;;AAAA,SA4DnBW,MA5DmB,GA4DV1B,KAAK,CAAC2B,SAAN,EA5DU;;AAAA,SA6DnBC,oBA7DmB,GA6DIC,QAAQ,IAAI;AACjCC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,QAArB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,KAAKC,KAAL,CAAWH,QAA9C;AACA,WAAKL,QAAL,CAAc;AACZK,QAAAA,QAAQ,oBAAO,KAAKG,KAAL,CAAWH,QAAlB,EAA+BA,QAA/B;AADI,OAAd;AAGD,KAnEkB;;AAAA,SAsEnBI,4BAtEmB,GAsEaJ,QAAD,IAAc;AAC3C,YAAMK,wBAAwB,GAAG;AAAEC,QAAAA,kBAAkB,EAAE;AAAtB,OAAjC;AAEA,aAAO,KAAKP,oBAAL,mBACFC,QADE,EAEFK,wBAFE,EAAP;AAID,KA7EkB;;AAEjB,SAAKF,KAAL,GAAa;AAEXH,MAAAA,QAAQ,EAAE;AACRO,QAAAA,KAAK,EAAE,IADC;AAERC,QAAAA,MAAM,EAAE,GAFA;AAGRC,QAAAA,QAAQ,EAAE,OAHF;AAIRC,QAAAA,SAAS,EAAE,OAJH;AAKRC,QAAAA,IAAI,EAAE,CALE;AAMRC,QAAAA,MAAM,EAAE,CAAC,CAAC,EAAF,EAAM,IAAN;AANA,OAFC;AAWXC,MAAAA,iBAAiB,EAAE,IAXR;AAYXjB,MAAAA,SAAS,EAAE;AAZA,KAAb;AAeD;;AA+DDkB,EAAAA,MAAM,GAAG;AACPb,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWP,SAAvB,EADO,CAEP;;AACA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,GAAG,EAAE,KAAKC;AADZ,OAEM,KAAKM,KAAL,CAAWH,QAFjB;AAGE,MAAA,QAAQ,EAAC,mCAHX;AAIE,MAAA,KAAK,EAAC,MAJR;AAKE,MAAA,MAAM,EAAC,KALT;AAME,MAAA,gBAAgB,EAAE,KAAKD,oBANzB;AAOE,MAAA,oBAAoB,EAAEpB,KAPxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QASE,oBAAC,QAAD;AACE,MAAA,MAAM,EAAE,KAAKkB,MADf;AAEE,MAAA,gBAAgB,EAAE,KAAKO,4BAFzB;AAGE,MAAA,oBAAoB,EAAEzB,KAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF;AAgBI;;;;;;;;AAQA;AAAC;;;;;;;;AAAD,KAxBJ,CADF,CADF,EA4CE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5CF,CADF;AAgDD;;AArIqC;;AAwIxC,eAAeC,eAAf","sourcesContent":["import React, { Component } from 'react';\nimport './home.css';\nimport Dashboard from './Dashboard'\nimport \"mapbox-gl/dist/mapbox-gl.css\"\nimport Popup from \"reactjs-popup\";\nimport firebase from 'firebase';\n//import WebMercatorViewport from 'viewport-mercator-project';\nimport Geocoder from 'react-map-gl-geocoder'\n\n\nimport MapGL, { Marker } from \"react-map-gl\";\n\n\n\nconst token = 'pk.eyJ1IjoicmFqdmVlcm1ld2FyYSIsImEiOiJjazRqZ3lnOXQwdnQ4M25td3Rtb21taTR6In0.e2-bSIPzJvsidBf3gWOnGw';\n//const employees = []\n\nclass TrackanEmployee extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n\n      viewport: {\n        width: 1000,\n        height: 900,\n        latitude: 24.5854,\n        longitude: 73.7125,\n        zoom: 6,\n        center: [-96, 37.8],\n\n      },\n      searchResultLayer: null,\n      Employees: []\n\n    };\n  }\n\n\n\n  componentDidMount = () => {\n    // const {longitude, latitude, zoom} = new WebMercatorViewport(this.state.viewport)\n    //         .fitBounds([[-122.4, 37.7], [-122.5, 37.8]], {\n    //           padding: 20,\n    //           offset: [0, -100]\n    //         });\n    //     const viewport = {\n    //         ...this.state.viewport,\n    //         longitude,\n    //         latitude,\n    //         zoom,\n    //         transitionDuration: 5000,\n    //         transitionInterpolator: new FlyToInterpolator(),\n    //         transitionEasing: d3.easeCubic\n    //     }\n    //     this.setState({viewport});\n\n    const db = firebase.firestore();\n    const employees = [];\n    db.collection('EmployeeData')\n      .get()\n      .then(snapshot => {\n\n        snapshot.forEach(doc => {\n          const data = doc.data()\n          //console.log(data)\n          // this.state.Employees.push(data);\n          employees.push(data);\n        })\n        //console.log(employees);\n        this.setState({ Employees: employees })\n        // console.log(employees)\n\n      })\n    //console.log(this.state.Employees)\n\n  }\n\n\n  mapRef = React.createRef()\n  handleViewportChange = viewport => {\n    console.log('event', viewport)\n    console.log('this.state.viewPort', this.state.viewport);\n    this.setState({\n      viewport: { ...this.state.viewport, ...viewport }\n    })\n  }\n\n  // if you are happy with Geocoder default settings, you can just use handleViewportChange directly\n  handleGeocoderViewportChange = (viewport) => {\n    const geocoderDefaultOverrides = { transitionDuration: 1000 }\n\n    return this.handleViewportChange({\n      ...viewport,\n      ...geocoderDefaultOverrides\n    })\n  }\n\n\n  render() {\n    console.log(this.state.Employees);\n    // const { viewport, searchResultLayer} = this.state\n    return (\n      <div>\n        <div className=\"map-cls\">\n          <MapGL\n            ref={this.mapRef}\n            {...this.state.viewport}\n            mapStyle=\"mapbox://styles/mapbox/streets-v9\"\n            width=\"100%\"\n            height=\"90%\"\n            onViewportChange={this.handleViewportChange}\n            mapboxApiAccessToken={token}\n          >\n            <Geocoder\n              mapRef={this.mapRef}\n              onViewportChange={this.handleGeocoderViewportChange}\n              mapboxApiAccessToken={token}\n            ></Geocoder>\n\n            {\n              /* <div>\n                <Marker latitude={24.5854} longitude={73.7125} offsetLeft={-20} offsetTop={-10}>\n                  <div class=\"mapMarkerStyle\"></div>\n                </Marker>\n                <Marker latitude={26.9124} longitude={75.7873} offsetLeft={-20} offsetTop={-10}>\n                  <div class=\"mapMarkerStyle\"></div>\n                </Marker>\n              </div> */\n              {/* <div>\n                {this.state.Employees &&\n                  this.state.Employees.map((emp, index) => (\n                    <Marker latitude={emp.lat} key={index} longitude={emp.lang} offsetLeft={-20} offsetTop={-10}>\n                      <div class=\"mapMarkerStyle\"></div>\n                    </Marker>\n                  ))}\n              </div> */}\n            }\n\n\n\n\n\n          </MapGL>\n\n\n        </div>\n        <Dashboard />\n      </div>\n    )\n  }\n}\n\nexport default TrackanEmployee;"]},"metadata":{},"sourceType":"module"}